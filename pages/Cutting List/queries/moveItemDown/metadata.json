{
  "gitSyncId": "699387b8cf3d5e4f99911848_cl000001-0000-0000-0000-000000000006",
  "id": "Cutting List_moveItemDown",
  "pluginId": "postgres-plugin",
  "pluginType": "DB",
  "unpublishedAction": {
    "actionConfiguration": {
      "body": "WITH target AS (\n    SELECT id, sort_order FROM cutting_list WHERE id = {{tblCuttingList.triggeredRow.id}}\n),\nnext AS (\n    SELECT id, sort_order FROM cutting_list\n    WHERE sort_order > (SELECT sort_order FROM target)\n    ORDER BY sort_order ASC LIMIT 1\n),\nswap AS (\n    SELECT t.id AS tid, t.sort_order AS t_sort, n.id AS nid, n.sort_order AS n_sort\n    FROM target t, next n\n)\nUPDATE cutting_list\nSET sort_order = CASE\n    WHEN cutting_list.id = (SELECT tid FROM swap) THEN (SELECT n_sort FROM swap)\n    WHEN cutting_list.id = (SELECT nid FROM swap) THEN (SELECT t_sort FROM swap)\nEND\nWHERE cutting_list.id IN ((SELECT tid FROM swap), (SELECT nid FROM swap));",
      "encodeParamsToggle": true,
      "paginationType": "NONE",
      "pluginSpecifiedTemplates": [{ "value": true }],
      "timeoutInMillisecond": 10000
    },
    "confirmBeforeExecute": false,
    "datasource": {
      "id": "Access MRP",
      "isAutoGenerated": false,
      "name": "Access MRP",
      "pluginId": "postgres-plugin"
    },
    "dynamicBindingPathList": [{ "key": "body" }],
    "name": "moveItemDown",
    "pageId": "Cutting List",
    "runBehaviour": "MANUAL",
    "userSetOnLoad": false
  }
}
